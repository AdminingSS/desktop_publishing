$(document).ready(function(){(function(){let dropzone=null;let formDataArr=null;let fileCnt=null;const b=$("#bigRoller");const a=$("#sendForm");let $validator=null;(function(){$.validator.setDefaults({submitHandler:function(d){formDataArr=$(d).serializeArray();dropzone.processQueue();b.show()}});const c={ignore:[],rules:{filescnt:{required:true},email:{required:true,email:true},message:{required:false}},messages:{filescnt:{required:"Пожалуйста, загрузите файл(ы)"},email:{required:"Пожалуйста, введите свой почтовый адрес",email:"Пожалуйста, введите корректный почтовый адрес"}},errorElement:"em",errorPlacement:function(d,e){d.addClass("help-block")},highlight:function(f,d,e){$(f).parents(".tm-highlight").addClass("has-error").removeClass("has-success")},unhighlight:function(f,d,e){$(f).parents(".tm-highlight").addClass("has-success").removeClass("has-error")}};$validator=a.validate(c);$(".filesend-submit").on("click",function(){if(!$validator.element("#filesCnt")){$(".tm-offshore-highlight").addClass("has-error")}})})();(function(){dropzone=new Dropzone("#dz-form",{url:"./mail/mailer.php",uploadMultiple:true,autoProcessQueue:false,parallelUploads:5,previewTemplate:'<div id="tpl">\n        <div class="dz-preview dz-file-preview">\n            <div class="dz-image uk-position-relative" data-dz-remove>\n                <img data-dz-thumbnail />\n                <div class="uk-position-absolute">\n                    <div class="lds-ring"><div></div><div></div><div></div><div></div></div>\n                </div>\n            </div>\n            <div class="dz-details">\n                <div class="dz-size"><span data-dz-size></span></div>\n                <div class="dz-filename"><span data-dz-name></span></div>\n            </div>\n        </div>\n    </div>'});const c=$("#dz-form");const e=$("#sendForm #filesCnt");const f=$("#successModal");const d=$(".plus-btn");d.on({click:function(g){c.trigger("click",g)}});dropzone.on("addedfile",function(){c.append(d);d.show();fileCnt++;e.val(fileCnt);setTimeout(function(){$(".dz-image div").hide()},3000);if($validator.element("#filesCnt")){$(".tm-offshore-highlight").removeClass("has-error")}});dropzone.on("removedfile",function(){fileCnt--;if(fileCnt<=0){fileCnt=null;d.hide();$("#fileNames").hide()}e.val(fileCnt);if(!$validator.element("#filesCnt")){$(".tm-offshore-highlight").addClass("has-error")}});dropzone.on("sending",function(g,i,h){formDataArr.forEach(function(j){h.append(j.name,j.value)})});dropzone.on("successmultiple",function(){dropzone.removeAllFiles(true);UIkit.modal($("#sendModal")).hide();UIkit.modal(f).show()});dropzone.on("error",function(){UIkit.modal($("#errorModal")).show()});dropzone.on("completemultiple",function(){b.hide()})})();(function(){const d=$("#fileSelectButton");const c=$("#dz-form");d.on({click:function(e){c.trigger("click",e)}})})()})();(function(){$(".tm-select").select2({placeholder:"Выберите валюту",minimumResultsForSearch:Infinity})})();(function(){const b=$(".tm-tooltip");const a={position:"top",content:'<div class="uk-text-left">\n        <h6>\n            Распознаем все форматы\n        </h6>\n        <p class="uk-margin-small">Не тратьте ценное время на распознавание PDF-документов, картинок, схем, чертежей, сканов и прочих файлов, которые вы получаете от своих клиентов.</p>\n    </div>'};b.jTooltip(a)})();(function(){const j=$(".tm-tooltip-trigger-5");const e=$(".tm-dotline-tooltip-5");const a=$(".tm-tooltip-trigger-4");const f=$(".tm-dotline-tooltip-4");const b=$(".tm-tooltip-trigger-3");const g=$(".tm-dotline-tooltip-3");const c=$(".tm-tooltip-trigger-2");const h=$(".tm-dotline-tooltip-2");const d=$(".tm-tooltip-trigger-1");const i=$(".tm-dotline-tooltip-1");j.on({mouseenter:function(){e.css("visibility","visible")},mouseleave:function(){e.css("visibility","hidden")}});a.on({mouseenter:function(){f.css("visibility","visible")},mouseleave:function(){f.css("visibility","hidden")}});b.on({mouseenter:function(){g.css("visibility","visible")},mouseleave:function(){g.css("visibility","hidden")}});c.on({mouseenter:function(){h.css("visibility","visible")},mouseleave:function(){h.css("visibility","hidden")}});d.on({mouseenter:function(){i.css("visibility","visible")},mouseleave:function(){i.css("visibility","hidden")}})})();(function(){$("#dz-form").on({mouseover:function(a){let $target=$(a.target);while(!$target.hasClass("tm-dz-form")){if($target.hasClass("dz-image")){$("#fileNames").html($target.parent().find(".dz-filename span").html());$("#fileNames").show();return}$target=$target.parent()}},mouseout:function(){$("#fileNames").html("");$("#fileNames").hide()}})})()});